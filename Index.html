<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Question Content Editor - Multi-Tab</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="css/styleUi.css" />
    <link rel="stylesheet" href="css/style.css" />
</head>
<body class="min-h-screen p-4 sm:p-6 md:p-10 text-white antialiased">

    <div class="max-w-full mx-auto rounded-xl">

        <header class="flex justify-center items-center mb-10 text-sm font-medium space-x-4">
            <button id="tab-lotso" onclick="setActiveTab('lotso')" class="tab-button px-4 py-2 rounded-full transition duration-200">
                LOTSO
            </button>
            <button id="tab-contents" onclick="setActiveTab('contents')" class="tab-button bg-white text-gray-900 rounded-full px-5 py-2 shadow-lg transition duration-200">
                CONTENTS
            </button>
            <button id="tab-settings" onclick="setActiveTab('settings')" class="tab-button px-4 py-2 rounded-full transition duration-200 text-gray-400">
                SETTINGS
            </button>
        </header>

        <div id="tab-container">

            <div id="page-lotso" class="tab-page hidden">
                <div class="card-bg rounded-xl min-h-[60vh] flex items-center justify-center p-10">
                    <p class="text-gray-500 text-lg">LOTSO View: Content goes here</p>
                </div>
            </div>

            <div id="page-contents" class="tab-page">

                <div class="mb-8 flex flex-col items-center space-y-4">
                    <button onclick="collectAndApplyContent()" class="w-40 bg-green-500 hover:bg-green-600 text-gray-900 font-semibold py-2 px-4 rounded-lg shadow-lg transition duration-200">
                        Apply Content
                    </button>

                    <div class="flex items-center space-x-6 text-sm">

                        <div class="flex space-x-6 text-sm">
                            <label class="custom-checkbox text-gray-400">
                                <input type="checkbox" id="checkbox-auto-frenzy" onchange="handleCheckboxChange(false)">
                                <span class="box"></span>
                                Auto Frenzy
                            </label>

                            <label class="custom-checkbox text-gray-400">
                                <input type="checkbox" id="checkbox-60-sec-vid" onchange="handleCheckboxChange(true)">
                                <span class="box"></span>
                                60 sec VID
                            </label>
                        </div>
                        
                        <div class="relative inline-block text-left">
                            <div class="flex items-center space-x-2 p-1.5 card-bg rounded-xl shadow-lg cursor-pointer hover:bg-slate-700 transition duration-150"
                                onclick="togglePresetDropdown()">

                                <button type="button" class="p-1 rounded-full bg-slate-900 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50">
                                    <img src="data:image/png;base64,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" alt="Save Preset" class="w-6 h-6 object-contain" />
                                </button>

                                <span id="selected-preset-name" class="text-sm font-semibold text-gray-100">-- Select Preset --</span>

                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-4 h-4 text-gray-400 ml-1">
                                    <path d="M6 9l6 6 6-6"/>
                                </svg>
                            </div>

                            <div id="preset-dropdown-menu" class="hidden absolute right-0 mt-2 w-60 rounded-xl shadow-2xl bg-slate-800 ring-1 ring-black ring-opacity-5 z-20
                                transform transition ease-out duration-300 opacity-0 translate-y-2"
                                style="min-width: 15rem;">
                                <div id="preset-list" class="p-2 space-y-1" role="menu" aria-orientation="vertical" aria-labelledby="options-menu">
                                    </div>
                            </div>
                        </div>
                        </div>
                    </div>

                <div id="question-panels" class="flex flex-col items-center">
                    </div>
            </div>

            <div id="page-settings" class="tab-page hidden">
                <div class="card-bg p-4 rounded-xl shadow-2xl space-y-4">

                    <div class="card-bg p-3 rounded-xl space-y-3">
                        <h3 class="text-lg font-semibold text-gray-100">Presets Folder Setup:</h3>
                        <div class="flex items-center space-x-2">
                            <button id="pickBaseBtn" class="bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-lg shadow-md transition duration-200">
                                Pick Presets Folder
                            </button>
                            <span id="basePathLabel" class="text-sm text-gray-400 overflow-hidden text-ellipsis whitespace-nowrap max-w-xs">— Folder not selected —</span>
                        </div>
                        <p class="text-xs text-gray-500">
                            Please select your base directory (e.g., /Users/akashbhovi/Documents). The app will create/use a <code>DTC_Presets</code> subfolder inside it for saving.
                        </p>
                    </div>
                    <div class="flex justify-center items-center space-x-6 text-sm font-medium">

                        <label for="file-old" class="flex items-center cursor-pointer space-x-2">
                            <input type="radio" id="file-old" name="file-selection" value="old" class="file-radio-input" onchange="updateFileSelection(this.value)">
                            <div class="file-radio-dot"></div>
                            <span class="text-gray-400">Old file</span>
                        </label>

                        <label for="file-new" class="flex items-center cursor-pointer space-x-2">
                            <input type="radio" id="file-new" name="file-selection" value="new" class="file-radio-input" checked onchange="updateFileSelection(this.value)">
                            <div class="file-radio-dot"></div>
                            <span class="text-gray-400">New file</span>
                        </label>
                    </div>

                    <div class="card-bg p-2 rounded-xl">
                        <div class="flex items-center space-x-3 cursor-pointer text-gray-400">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-6 h-6 rotate-180">
                                <path d="M6 9l6 6 6-6"/>
                            </svg>
                            <h3 class="text-lg font-semibold text-gray-100">Select Your GRID :</h3>
                        </div>

                        <div id="grid-buttons" class="flex space-x-3 mt-1">
                            </div>
                    </div>

                    <div class="flex justify-center">
                        <button class="bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-lg shadow-md transition duration-200">
                            Load GRID
                        </button>
                    </div>


                    <div id="crossword-container" class="bg-slate-900 p-2 rounded-xl border-2 border-blue-500">
                        <div id="current-grid" class="crossword-grid grid mx-auto max-w-48 w-full relative">
                            </div>
                    </div>
                </div>

                <div class="flex flex-col sm:flex-row justify-center space-y-2 sm:space-y-0 sm:space-x-2 mt-4">
                    <button class="bg-green-500 hover:bg-green-600 text-gray-900 text-sm font-semibold py-1.5 px-3 rounded-lg shadow-lg transition duration-200">
                        ACCESS TEMPLATE
                    </button>
                    <button class="bg-green-500 hover:bg-green-600 text-gray-900 text-sm font-semibold py-1.5 px-3 rounded-lg shadow-lg transition duration-200">
                        WATCH TUTORIAL
                    </button>
                </div>
            </div>

        </div>
    </div>

    <div id="save-grid-modal" class="fixed inset-0 hidden modal-overlay flex items-center justify-center p-4">
        <div class="card-bg p-8 rounded-xl shadow-2xl w-full max-w-sm transform transition-all duration-300 scale-100">
            <h3 class="text-xl font-bold mb-4 text-white">Save Existing Grid?</h3>
            <p class="text-gray-300 mb-6">Do you want to save the existing grid before creating a new one?</p>

            <label class="block text-sm font-medium mb-2 text-gray-400" for="grid-file-upload">Choose file for grid (.png selection)</label>
            <input type="file" id="grid-file-upload" accept=".png" class="block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:text-sm file:font-semibold file:bg-slate-900 file:text-blue-500 hover:file:bg-slate-800 border border-gray-700 rounded-lg p-1 mb-6">

            <div class="flex justify-end space-x-4">
                <button onclick="closeModal()" class="px-4 py-2 rounded-lg text-gray-400 hover:text-white transition duration-150">
                    Cancel
                </button>
                <button onclick="saveGridAndCreateNew()" class="bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-lg shadow-md transition duration-200">
                    Save GRID
                </button>
            </div>
        </div>
    </div>
    
    <div id="new-preset-modal" class="fixed inset-0 hidden modal-overlay flex items-center justify-center p-4 z-50">
        <div class="card-bg p-6 rounded-xl shadow-2xl w-full max-w-sm transform transition-all duration-300 scale-100">
            <h3 class="text-xl font-bold mb-4 text-white">Create New Preset</h3>
            <p class="text-gray-300 mb-4">Enter a unique name for your new content preset.</p>

            <input type="text" id="new-preset-input" placeholder="Preset Name (e.g., 'Winter Collection')"
                   class="w-full p-3 rounded-lg bg-slate-900 border border-gray-700 focus:ring-blue-500 focus:border-blue-500 text-sm placeholder-gray-500 mb-6"
                   onkeydown="if(event.key === 'Enter') saveNewPreset()">

            <div class="flex justify-end space-x-4">
                <button onclick="closeNewPresetModal()" class="px-4 py-2 rounded-lg text-gray-400 hover:text-white transition duration-150">
                    Cancel
                </button>
                <button onclick="saveNewPreset()" class="bg-green-600 hover:bg-green-700 text-white font-bold py-2 px-4 rounded-lg shadow-md transition duration-200">
                    Save
                </button>
            </div>
        </div>
    </div>

    <div id="save-confirm-modal" class="fixed inset-0 hidden modal-overlay flex items-center justify-center p-4 z-50">
        <div class="card-bg p-6 rounded-xl shadow-2xl w-full max-w-sm transform transition-all duration-300 scale-100">
            <h3 class="text-xl font-bold mb-4 text-yellow-400">Confirm Save Changes</h3>
            <p id="save-confirm-message" class="text-gray-300 mb-6"></p>

            <div class="flex justify-end space-x-4">
                <button onclick="closeSaveConfirmModal()" class="px-4 py-2 rounded-lg text-gray-400 hover:text-white transition duration-150">
                    Cancel
                </button>
                <button onclick="saveChangesToPreset()" class="bg-red-600 hover:bg-red-700 text-white font-bold py-2 px-4 rounded-lg shadow-md transition duration-200">
                    OK
                </button>
            </div>
        </div>
    </div>


    <script src="js/Libs/CSInterface.js"></script>

    <script src="js/Uijs.js"></script>

    <script src="js/main.js"></script>
</body>
</html>